## User & Device Authentication

## Login

Using the OPAQUE protocol to authenticate the client with the server the MainDevice can be recovered.

TODO show crypto process

With the MainDevice the client automatically add the current client as new device to the user-chain. All workspace keys are decrypted and in case of a long-term session the workspace key boxes for the new device are created.

https://github.com/serenity-kit/Serenity/blob/main/packages/common/src/decryptMainDevice/decryptMainDevice.ts
